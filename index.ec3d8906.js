class e{async serviceMovieTopApi(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=bef2e1469ade062164db331fc6ab2f25&media_type=all&time_window=week&page=${this.page}`);return await e.json()}catch(e){console.error(e.message)}}async serviceSearchMovie(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=bef2e1469ade062164db331fc6ab2f25&query="${this.searchValue}`);return await e.json()}catch(e){console.error(e.message)}}async serviceIdMovie(){try{const e=await fetch(`https://api.themoviedb.org/3/movie/${this.id},?api_key=bef2e1469ade062164db331fc6ab2f25`);return await e.json()}catch(e){console.error(e.message)}}async ganresApi(){try{const e=await fetch("https://api.themoviedb.org/3//genre/movie/list?api_key=bef2e1469ade062164db331fc6ab2f25"),t=await e.json();return console.log(t),t}catch(e){console.error(e.message)}}ressetPage(){this.page=1}incrementPage(){return this.page+=1}decrementPage(){if(!(this.page<=1))return this.page-=1}get query(){return this.searchValue}set query(e){this.searchValue=e}set pageNumber(e){this.page=e}set idNumber(e){this.id=e}insertGenresToMovieObj(){return this.fetchPopularArticles().then((e=>this.fetchGenres().then((t=>e.map((e=>({...e,release_date:e.release_date.split("-")[0],genres:e.genre_ids.map((e=>t.filter((t=>t.id===e)))).flat()})))))))}constructor(){this.searchValue="",this.page=1,this.id=NaN}}const t=new e;function i(e){const t=document.querySelector(".gallery_list");document.querySelector(".gallery_list").innerHTML="",e.forEach((e=>{const i=e.release_date.slice(0,4),a=document.createElement("li");a.classList.add("gallery_item"),null===e.poster_path?a.innerHTML=`<div class="modal_click-open" id="${e.id}">\n      <img class="gallery_img" src="https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=996&t=st=1662636904~exp=1662637504~hmac=6929048a20459487fdcf38b8077d000703b9a860b7d7ee1bb32f889a47b1edd8" alt="${e.original_title}"/></div>\n        <div class="title_container"><h2 class="gallery_title">${e.original_title}</h2>\n        <div><p class="ganre">${e.genre_ids} ${i}</p></div>\n        </div>`:a.innerHTML=`<div class="modal_click-open" id="${e.id}">\n      <img class="gallery_img" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title}"/></div>\n        <div class="title_container"><h2 class="gallery_title">${e.original_title}</h2>\n        <div><p class="ganre">${e.genre_ids} ${i}</p></div>\n        </div>`,t.appendChild(a),a.addEventListener("click",(()=>n(e.id,e.poster_path)))}))}const a=document.querySelector(".backdrop"),s=document.querySelector(".modal_box");async function n(e,i){t.idNumber=e,console.log(e);const n=await t.serviceIdMovie(),c=await t.serviceVideoApi();console.log(c.results);let r=n.genres.map((e=>e.name));s.innerHTML=null===i?`\n    <div class="img_box">\n    <img src="https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=996&t=st=1662636904~exp=1662637504~hmac=6929048a20459487fdcf38b8077d000703b9a860b7d7ee1bb32f889a47b1edd8" alt="" class="modal_img" />\n    </div>\n    <div class="text-content_box">\n      <h2 class="modal_title">${n.original_title}</h2>\n      <div class="category_box">\n        <ul class="category_list">\n          <li class="category_item">Vote / Votes <p> <span class="vote">${n.vote_average}</span><span class="slash">/</span>${n.vote_count}</p></li>\n          <li class="category_item">Popularity <p>${n.popularity}<p></li>\n          <li class="category_item">Original Title</li>\n          <li class="category_item">Genre</li>\n        </ul>\n        <ul class="categiryApi_list">\n\n          <li class="categiryApi_item"></li>\n          <li class="categiryApi_item categiryApi_style--upercase">${n.original_title}</li>\n          <li class="categiryApi_item categiryApi_style ganre">${String(r).replaceAll(","," / ")} </li>\n        </ul>\n      </div>\n      <h2 class="about_title">About</h2>\n      <p class="about_text">\n     ${n.overview}\n      </p>\n      <div class="modal-box_btn">\n        <button class="watched_btn">add to Watched</button>\n        <button class="queue_btn">add to queue</button>\n      </div>\n    </div>\n  `:`\n    <div class="img_box">\n    <img src="https://image.tmdb.org/t/p/w500${i}" alt="" class="modal_img" />\n    </div>\n    <div class="text-content_box">\n      <h2 class="modal_title">${n.original_title}</h2>\n      <div class="category_box">\n        <ul class="category_list">\n          <li class="category_item">Vote / Votes <p> <span class="vote">${n.vote_average}</span><span class="slash">/</span>${n.vote_count}</p></li>\n          <li class="category_item">Popularity <p>${n.popularity}<p></li>\n          <li class="category_item">Original Title</li>\n          <li class="category_item">Genre</li>\n        </ul>\n        <ul class="categiryApi_list">\n\n          <li class="categiryApi_item"></li>\n          <li class="categiryApi_item categiryApi_style--upercase">${n.original_title}</li>\n          <li class="categiryApi_item categiryApi_style ganre">${String(r).replaceAll(","," / ")} </li>\n        </ul>\n      </div>\n      <h2 class="about_title">About</h2>\n      <p class="about_text">\n     ${n.overview}\n      </p>\n      <div class="modal-box_btn">\n        <button class="watched_btn">add to Watched</button>\n        <button class="queue_btn">add to queue</button>\n      </div>\n    </div>\n  `,document.querySelector(".backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${n.backdrop_path})`,a.classList.remove("is-hiden"),document.body.classList.add("scrollOFF");document.querySelector(".ganre");document.querySelector(".btn_close").addEventListener("click",l)}function l(){a.classList.add("is-hiden"),document.body.classList.remove("scrollOFF")}window.addEventListener("click",(e=>{e.target===a&&l()})),window.addEventListener("keydown",(e=>{"Escape"===e.code&&l()}));const c=document.querySelector(".search_form"),r=(document.querySelector(".gallery_list"),document.querySelector(".pagination"),new e),o=(document.querySelector(".page_list"),document.querySelector(".result_input"));!async function(){i((await r.serviceMovieTopApi()).results)}(),async function(){n(await r.serviceIdMovie())}(),c.addEventListener("submit",(async function(e){e.preventDefault();try{const t=e.target.elements.search.value;if(""===t)return;r.query=t;const a=await r.serviceSearchMovie();console.log(a),0===a.results.length&&(o.textContent="Search result not successful. Enter the correct movie name and"),i(a.results)}catch(e){}}));
//# sourceMappingURL=index.ec3d8906.js.map

class e{async serviceMovieTopApi(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=bef2e1469ade062164db331fc6ab2f25&media_type=all&time_window=week&page=${this.page}`);return await e.json()}catch(e){console.error(e.message)}}async serviceSearchMovie(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=bef2e1469ade062164db331fc6ab2f25&query="${this.searchValue}`);return await e.json()}catch(e){console.error(e.message)}}async serviceIdMovie(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e},?api_key=bef2e1469ade062164db331fc6ab2f25`);return await t.json()}catch(e){console.error(e.message)}}ressetPage(){this.page=1}incrementPage(){return this.page+=1}decrementPage(){if(!(this.page<=1))return this.page-=1}get query(){return this.searchValue}set query(e){this.searchValue=e}set pageNumber(e){this.page=e}set idNumber(e){this.id=e}constructor(){this.searchValue="",this.page=1,this.id=NaN}}const t=new e,i=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function a(e){const t=document.querySelector(".gallery_list");document.querySelector(".gallery_list").innerHTML="",e.forEach((e=>{i.map((t=>{t.id===e.genre_ids[0]&&(e.genre_ids[0]=t.name),t.id===e.genre_ids[1]&&(e.genre_ids[1]=t.name),t.id===e.genre_ids[2]&&(e.genre_ids[2]=t.name),t.id===e.genre_ids[3]&&(e.genre_ids[3]=t.name),t.id===e.genre_ids[4]&&(e.genre_ids[4]=t.name)}));const a=e.release_date.slice(0,4);console.log(e.genre_ids);const n=document.createElement("li");n.classList.add("gallery_item"),null===e.poster_path?n.innerHTML=`<div class="modal_click-open" id="${e.id}">\n      <img class="gallery_img" src="https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=996&t=st=1662636904~exp=1662637504~hmac=6929048a20459487fdcf38b8077d000703b9a860b7d7ee1bb32f889a47b1edd8" alt="${e.original_title}"/></div>\n        <div class="title_container"><h2 class="gallery_title">${e.original_title}</h2>\n        <div><p class="ganre">${e.genre_ids} ${a}</p></div>\n        </div>`:n.innerHTML=`<div class="modal_click-open" id="${e.id}">\n      <img class="gallery_img" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title}"/></div>\n        <div class="title_container"><h2 class="gallery_title">${e.original_title}</h2>\n        <div><p class="ganre">${e.genre_ids} ${a}</p></div>\n        </div>`,t.appendChild(n),n.addEventListener("click",(()=>r(e.id,e.poster_path)))}))}const n=document.querySelector(".backdrop"),s=document.querySelector(".modal_box");async function r(e,i){t.idNumber;const a=await t.serviceIdMovie(e);let r=a.genres.map((e=>e.name));s.innerHTML=`\n    <div class="img_box">\n    <img src="${i}" alt="" class="modal_img" />\n    </div>\n    <div class="text-content_box">\n      <h2 class="modal_title">${a.original_title}</h2>\n      <div class="category_box">\n        <ul class="category_list">\n          <li class="category_item">Vote / Votes</li>\n          <li class="category_item">Popularity</li>\n          <li class="category_item">Original Title</li>\n          <li class="category_item">Genre</li>\n        </ul>\n        <ul class="categiryApi_list">\n          <li class="categiryApi_item">\n            <span class="vote">${a.vote_average}</span><span class="slash">/</span>${a.vote_count}\n          </li>\n          <li class="categiryApi_item">${a.popularity}</li>\n          <li class="categiryApi_item categiryApi_style--upercase">${a.original_title}</li>\n          <li class="categiryApi_item categiryApi_style ganre">${String(r).replaceAll(","," / ")} </li>\n        </ul>\n      </div>\n      <h2 class="about_title">About</h2>\n      <p class="about_text">\n     ${a.overview}\n      </p>\n      <div class="modal-box_btn">\n        <button class="watched_btn">add to Watched</button>\n        <button class="queue_btn">add to queue</button>\n      </div>\n    </div>\n  `,document.querySelector(".backdrop").style.backgroundImage=`url(https://image.tmdb.org/t/p/original${a.backdrop_path})`,n.classList.remove("is-hiden"),document.body.classList.add("scrollOFF");document.querySelector(".ganre");document.querySelector(".btn_close").addEventListener("click",c)}function c(){n.classList.add("is-hiden"),document.body.classList.remove("scrollOFF")}window.addEventListener("click",(e=>{e.target===n&&c()})),window.addEventListener("keydown",(e=>{"Escape"===e.code&&c()}));const l=document.querySelector(".search_form"),o=(document.querySelector(".gallery_list"),document.querySelector(".pagination"),new e),d=(document.querySelector(".page_list"),document.querySelector(".result_input"));!async function(){a((await o.serviceMovieTopApi()).results)}(),async function(){r(await o.serviceIdMovie())}(),l.addEventListener("submit",(async function(e){e.preventDefault();try{const t=e.target.elements.search.value;if(""===t)return;o.query=t;const i=await o.serviceSearchMovie();console.log(i),0===i.results.length&&(d.textContent="Search result not successful. Enter the correct movie name and"),a(i.results)}catch(e){}}));
//# sourceMappingURL=index.9fc72ad6.js.map

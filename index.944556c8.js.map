{"mappings":"AAGe,MAAMA,EAQgBC,2BACjC,IACE,MAAMC,QAAaC,MACjB,kIAAkFC,KAAKC,QAIzF,aAFuBH,EAAKI,M,CAG5B,MAAOC,GACPC,QAAQD,MAAMA,EAAME,Q,EAKKR,2BAC3B,IACE,MAAMC,QAAaC,MACjB,6FAA6CC,KAAKM,eAKpD,aAFuBR,EAAKI,M,CAG5B,MAAOC,GACPC,QAAQD,MAAMA,EAAME,Q,EAKxBR,qBAAqBU,GACnB,IACE,MAAMT,QAAaC,MAAM,sCAAgBQ,+CAIzC,aAFuBT,EAAKI,M,CAG5B,MAAOC,GACPC,QAAQD,MAAMA,EAAME,Q,EAIxBG,aACER,KAAKC,KAAO,C,CAEdQ,gBACE,OAAQT,KAAKC,MAAQ,C,CAEvBS,gBACE,KAAIV,KAAKC,MAAQ,GAGjB,OAAQD,KAAKC,MAAQ,C,CAEnBU,YACF,OAAOX,KAAKM,W,CAGVK,UAAMC,GACRZ,KAAKM,YAAcM,C,CAEjBC,eAAWC,GACbd,KAAKC,KAAOa,C,CAGVC,aAASC,GACXhB,KAAKO,GAAKS,C,CAxEZC,cACEjB,KAAKM,YAAc,GACnBN,KAAKC,KAAO,EACZD,KAAKO,GAAKW,G,ECNd,MAAMC,EAAa,IAAIvB,EAEjBwB,EAAa,CACjB,CACEb,GAAI,GACJc,KAAM,UAER,CACEd,GAAI,GACJc,KAAM,aAER,CACEd,GAAI,GACJc,KAAM,aAER,CACEd,GAAI,GACJc,KAAM,UAER,CACEd,GAAI,GACJc,KAAM,SAER,CACEd,GAAI,GACJc,KAAM,eAER,CACEd,GAAI,GACJc,KAAM,SAER,CACEd,GAAI,MACJc,KAAM,UAER,CACEd,GAAI,GACJc,KAAM,WAER,CACEd,GAAI,GACJc,KAAM,WAER,CACEd,GAAI,GACJc,KAAM,UAER,CACEd,GAAI,MACJc,KAAM,SAER,CACEd,GAAI,KACJc,KAAM,WAER,CACEd,GAAI,MACJc,KAAM,WAER,CACEd,GAAI,IACJc,KAAM,mBAER,CACEd,GAAI,MACJc,KAAM,YAER,CACEd,GAAI,GACJc,KAAM,YAER,CACEd,GAAI,MACJc,KAAM,OAER,CACEd,GAAI,GACJc,KAAM,YAIK,SAAAC,EAAuBC,GACpC,MAAMC,EAAUC,SAASC,cAAc,iBAEvCD,SAASC,cAAc,iBAAiBC,UAAY,GACpDJ,EAAKK,SAAQC,IAEqBT,EAArBU,KAAIC,IACTA,EAAExB,KAAOsB,EAAGG,UAAU,KACxBH,EAAGG,UAAU,GAAKD,EAAEV,MAGlBU,EAAExB,KAAOsB,EAAGG,UAAU,KACxBH,EAAGG,UAAU,GAAKD,EAAEV,MAElBU,EAAExB,KAAOsB,EAAGG,UAAU,KACxBH,EAAGG,UAAU,GAAKD,EAAEV,MAElBU,EAAExB,KAAOsB,EAAGG,UAAU,KACxBH,EAAGG,UAAU,GAAKD,EAAEV,MAElBU,EAAExB,KAAOsB,EAAGG,UAAU,KACxBH,EAAGG,UAAU,GAAKD,EAAEV,KAAI,IAKT,MAAbY,EAAeJ,EAAGK,aAAaC,MAAM,EAAG,GAC9C/B,QAAQgC,IAAIP,EAAGG,WACf,MAAMK,EAAUZ,SAASa,cAAc,MACvCD,EAAQE,UAAUC,IAAI,gBAEC,OAAnBX,EAAGY,YACLJ,EAAQV,UAAY,qCAAqCE,EAAGtB,0OACiKsB,EAAGa,2FACrKb,EAAGa,sDACpCb,EAAGG,aAAaC,8BAG1CI,EAAQV,UAAY,qCAAqCE,EAAGtB,4EACGsB,EAAGY,qBAAqBZ,EAAGa,2FAC/Bb,EAAGa,sDACpCb,EAAGG,aAAaC,8BAI5CT,EAAQmB,YAAYN,GAEpBA,EAAQO,iBAAiB,SAAS,IAAMC,EAAUhB,EAAGtB,GAAIsB,EAAGY,cAAa,G,CAI7E,MAAMK,EAAQrB,SAASC,cAAc,aAE/BqB,EAAWtB,SAASC,cAAc,cAExC7B,eAAegD,EAAUtC,EAAIyC,GAC3B7B,EAAWJ,SACX,MAAMkC,QAAiB9B,EAAW+B,eAAe3C,GAEjD,IAAI4C,EAASF,EAASG,OAAOtB,KAAID,GAAMA,EAAGR,OAGxC0B,EAASpB,UADI,OAAXqB,EACmB,iVAKOC,EAASP,sKAI7BO,EAASI,kDAC2BJ,EAASK,0EACLL,EAASM,ySAQjDN,EAASP,uFAE4Cc,OACrDL,GACAM,WAAW,IAAK,2HAKrBR,EAASS,8MASS,6EAEsBV,iHAGfC,EAASP,sKAI7BO,EAASI,kDAC2BJ,EAASK,0EACLL,EAASM,ySAQjDN,EAASP,uFAE4Cc,OACrDL,GACAM,WAAW,IAAK,2HAKrBR,EAASS,8MAUdjC,SAASC,cACP,aACAiC,MAAMC,gBAAkB,0CAA0CX,EAASY,iBAE7Ef,EAAMP,UAAUuB,OAAO,YACvBrC,SAASsC,KAAKxB,UAAUC,IAAI,aACdf,SAASC,cAAc,UACfD,SAASC,cAAc,cAC/BkB,iBAAiB,QAASoB,E,CAG1C,SAASA,IACPlB,EAAMP,UAAUC,IAAI,YACpBf,SAASsC,KAAKxB,UAAUuB,OAAO,Y,CAGjCG,OAAOrB,iBAAiB,SAASsB,IAC3BA,EAAEC,SAAWrB,GACfkB,GAAY,IAIhBC,OAAOrB,iBAAiB,WAAWsB,IAClB,WAAXA,EAAEE,MACJJ,GAAY,ICjPhB,MAAMK,EAAa5C,SAASC,cAAc,gBAIpC4C,GAHU7C,SAASC,cAAc,iBACfD,SAASC,cAAc,eAE5B,IAAI9B,GAEjB2E,GADW9C,SAASC,cAAc,cACpBD,SAASC,cAAc,mBAyB3C7B,iBAEEyB,SADmBgD,EAAWE,sBACXC,Q,CAErBC,GAEA7E,iBAGEgD,QAFgByB,EAAWpB,iB,CAI7ByB,GACAN,EAAWzB,iBAAiB,UAnC5B/C,eAAwBqE,GACtBA,EAAEU,iBAEF,IACE,MAAMC,EAASX,EAAEC,OAAOW,SAASD,OAAOE,MAExC,GAAe,KAAXF,EACF,OAGFP,EAAW3D,MAAQkE,EAEnB,MAAMtD,QAAa+C,EAAWU,qBAC9B5E,QAAQgC,IAAIb,GACgB,IAAxBA,EAAKkD,QAAQQ,SACfV,EAAYW,YACV,kEAEJ5D,EAAcC,EAAKkD,QACL,CAAd,MAAOtE,GAAO,C","sources":["src/js/serviceApi.js","src/js/markupGallery.js","src/index.js"],"sourcesContent":["export { NewServiceApi };\nconst key = 'bef2e1469ade062164db331fc6ab2f25';\nconst url = 'https://api.themoviedb.org/3';\nexport default class NewServiceApi {\n  constructor() {\n    this.searchValue = '';\n    this.page = 1;\n    this.id = NaN;\n  }\n\n  // сервіс  топ популярних фільмів за тиждень\n  async serviceMovieTopApi() {\n    try {\n      const resp = await fetch(\n        `${url}/trending/movie/week?api_key=${key}&media_type=all&time_window=week&page=${this.page}`\n      );\n      const respData = await resp.json();\n\n      return respData;\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  // сервіс пошук фільмів за значенням\n  async serviceSearchMovie() {\n    try {\n      const resp = await fetch(\n        `${url}/search/movie?api_key=${key}&query=\"${this.searchValue}`\n      );\n\n      const respData = await resp.json();\n\n      return respData;\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  // сервіс пошку фыльмыв по айді\n  async serviceIdMovie(id) {\n    try {\n      const resp = await fetch(`${url}/movie/${id},?api_key=${key}`);\n\n      const respData = await resp.json();\n\n      return respData;\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n\n  ressetPage() {\n    this.page = 1;\n  }\n  incrementPage() {\n    return (this.page += 1);\n  }\n  decrementPage() {\n    if (this.page <= 1) {\n      return;\n    }\n    return (this.page -= 1);\n  }\n  get query() {\n    return this.searchValue;\n  }\n\n  set query(nuwQuery) {\n    this.searchValue = nuwQuery;\n  }\n  set pageNumber(nuwPage) {\n    this.page = nuwPage;\n  }\n\n  set idNumber(nuwId) {\n    this.id = nuwId;\n  }\n}\n","import { NewServiceApi } from './serviceApi';\nconst serviceApi = new NewServiceApi();\n\nconst ganresInfo = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n\nexport default function markupGallery(data) {\n  const gallery = document.querySelector('.gallery_list');\n\n  document.querySelector('.gallery_list').innerHTML = '';\n  data.forEach(el => {\n    //порівняння айді з масивом всіх жанрів\n    ganresInfo.map(q => {\n      if (q.id === el.genre_ids[0]) {\n        el.genre_ids[0] = q.name;\n      }\n\n      if (q.id === el.genre_ids[1]) {\n        el.genre_ids[1] = q.name;\n      }\n      if (q.id === el.genre_ids[2]) {\n        el.genre_ids[2] = q.name;\n      }\n      if (q.id === el.genre_ids[3]) {\n        el.genre_ids[3] = q.name;\n      }\n      if (q.id === el.genre_ids[4]) {\n        el.genre_ids[4] = q.name;\n      }\n    });\n\n    //лишає з дати тільки рік\n    const realeaseData = el.release_date.slice(0, 4);\n    console.log(el.genre_ids);\n    const movieEl = document.createElement('li');\n    movieEl.classList.add('gallery_item');\n    // якщо картинка відсутня, то міняє її на це забраження\n    if (el.poster_path === null) {\n      movieEl.innerHTML = `<div class=\"modal_click-open\" id=\"${el.id}\">\n      <img class=\"gallery_img\" src=\"https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=996&t=st=1662636904~exp=1662637504~hmac=6929048a20459487fdcf38b8077d000703b9a860b7d7ee1bb32f889a47b1edd8\" alt=\"${el.original_title}\"/></div>\n        <div class=\"title_container\"><h2 class=\"gallery_title\">${el.original_title}</h2>\n        <div><p class=\"ganre\">${el.genre_ids} ${realeaseData}</p></div>\n        </div>`;\n    } else {\n      movieEl.innerHTML = `<div class=\"modal_click-open\" id=\"${el.id}\">\n      <img class=\"gallery_img\" src=\"https://image.tmdb.org/t/p/w500${el.poster_path}\" alt=\"${el.original_title}\"/></div>\n        <div class=\"title_container\"><h2 class=\"gallery_title\">${el.original_title}</h2>\n        <div><p class=\"ganre\">${el.genre_ids} ${realeaseData}</p></div>\n        </div>`;\n    }\n\n    gallery.appendChild(movieEl);\n\n    movieEl.addEventListener('click', () => openModal(el.id, el.poster_path));\n  });\n}\n\nconst modal = document.querySelector('.backdrop');\n\nconst modalBox = document.querySelector('.modal_box');\n\nasync function openModal(id, poster) {\n  serviceApi.idNumber === id;\n  const respData = await serviceApi.serviceIdMovie(id);\n\n  let ganres = respData.genres.map(el => el.name);\n\n  if (poster === null) {\n    modalBox.innerHTML = `\n    <div class=\"img_box\">\n    <img src=\"https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=996&t=st=1662636904~exp=1662637504~hmac=6929048a20459487fdcf38b8077d000703b9a860b7d7ee1bb32f889a47b1edd8\" alt=\"\" class=\"modal_img\" />\n    </div>\n    <div class=\"text-content_box\">\n      <h2 class=\"modal_title\">${respData.original_title}</h2>\n      <div class=\"category_box\">\n        <ul class=\"category_list\">\n          <li class=\"category_item\">Vote / Votes <p> <span class=\"vote\">${\n            respData.vote_average\n          }</span><span class=\"slash\">/</span>${respData.vote_count}</p></li>\n          <li class=\"category_item\">Popularity <p>${respData.popularity}<p></li>\n          <li class=\"category_item\">Original Title</li>\n          <li class=\"category_item\">Genre</li>\n        </ul>\n        <ul class=\"categiryApi_list\">\n\n          <li class=\"categiryApi_item\"></li>\n          <li class=\"categiryApi_item categiryApi_style--upercase\">${\n            respData.original_title\n          }</li>\n          <li class=\"categiryApi_item categiryApi_style ganre\">${String(\n            ganres\n          ).replaceAll(',', ' / ')} </li>\n        </ul>\n      </div>\n      <h2 class=\"about_title\">About</h2>\n      <p class=\"about_text\">\n     ${respData.overview}\n      </p>\n      <div class=\"modal-box_btn\">\n        <button class=\"watched_btn\">add to Watched</button>\n        <button class=\"queue_btn\">add to queue</button>\n      </div>\n    </div>\n  `;\n  } else {\n    modalBox.innerHTML = `\n    <div class=\"img_box\">\n    <img src=\"https://image.tmdb.org/t/p/w500${poster}\" alt=\"\" class=\"modal_img\" />\n    </div>\n    <div class=\"text-content_box\">\n      <h2 class=\"modal_title\">${respData.original_title}</h2>\n      <div class=\"category_box\">\n        <ul class=\"category_list\">\n          <li class=\"category_item\">Vote / Votes <p> <span class=\"vote\">${\n            respData.vote_average\n          }</span><span class=\"slash\">/</span>${respData.vote_count}</p></li>\n          <li class=\"category_item\">Popularity <p>${respData.popularity}<p></li>\n          <li class=\"category_item\">Original Title</li>\n          <li class=\"category_item\">Genre</li>\n        </ul>\n        <ul class=\"categiryApi_list\">\n\n          <li class=\"categiryApi_item\"></li>\n          <li class=\"categiryApi_item categiryApi_style--upercase\">${\n            respData.original_title\n          }</li>\n          <li class=\"categiryApi_item categiryApi_style ganre\">${String(\n            ganres\n          ).replaceAll(',', ' / ')} </li>\n        </ul>\n      </div>\n      <h2 class=\"about_title\">About</h2>\n      <p class=\"about_text\">\n     ${respData.overview}\n      </p>\n      <div class=\"modal-box_btn\">\n        <button class=\"watched_btn\">add to Watched</button>\n        <button class=\"queue_btn\">add to queue</button>\n      </div>\n    </div>\n  `;\n  }\n\n  document.querySelector(\n    '.backdrop'\n  ).style.backgroundImage = `url(https://image.tmdb.org/t/p/original${respData.backdrop_path})`;\n\n  modal.classList.remove('is-hiden');\n  document.body.classList.add('scrollOFF');\n  const ganre = document.querySelector('.ganre');\n  const btnModalClose = document.querySelector('.btn_close');\n  btnModalClose.addEventListener('click', closeModal);\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hiden');\n  document.body.classList.remove('scrollOFF');\n}\n\nwindow.addEventListener('click', e => {\n  if (e.target === modal) {\n    closeModal();\n  }\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n});\n\nexport { markupGallery, openModal };\n\n// const markup = data\n// .map(el => {\n//   console.log(el.poster_path);\n\n//   let name = el.original_title;\n//   if (el.poster_path === null) {\n//     return;\n//   }\n//   if (name === undefined) {\n//     name = el.original_name;\n//     return `<li class=\"gallery_item\"><a href=\"\" class=\"modal_click-open\">\n//       <img class=\"gallery_img\" src=\"https://image.tmdb.org/t/p/w500${el.poster_path}\" alt=\"${name}\"/></a>\n//         <div class=\"title_container\"><h2 class=\"gallery_title\">${name}<span>ganre</span></h2></div>\n//     </li>`;\n//   } else {\n//     return `<li class=\"gallery_item\"><a href=\"\" class=\"modal_click-open\">\n//       <img class=\"gallery_img\" src=\"https://image.tmdb.org/t/p/w500${el.poster_path}\" alt=\"${name}\"/></a>\n//         <div class=\"title_container\"><h2 class=\"gallery_title\">${name}<span>ganre</span></h2></div>\n//     </li>`;\n//   }\n// })\n// .join('');\n// gallery;\n// gallery.insertAdjacentHTML('afterbegin', markup);\n// }\n","import { NewServiceApi } from './js/serviceApi';\nimport { markupGallery, openModal, createModal } from './js/markupGallery';\nconst searchForm = document.querySelector('.search_form');\nconst gallery = document.querySelector('.gallery_list');\nconst paginationClick = document.querySelector('.pagination');\n\nconst serviceApi = new NewServiceApi();\nconst pageList = document.querySelector('.page_list');\nconst resultInput = document.querySelector('.result_input');\n\nasync function onSearch(e) {\n  e.preventDefault();\n\n  try {\n    const search = e.target.elements.search.value;\n\n    if (search === '') {\n      return;\n    }\n\n    serviceApi.query = search;\n\n    const data = await serviceApi.serviceSearchMovie();\n    console.log(data);\n    if (data.results.length === 0) {\n      resultInput.textContent =\n        'Search result not successful. Enter the correct movie name and';\n    }\n    markupGallery(data.results);\n  } catch (error) {}\n}\n\n// top movie\nasync function topMoviePage() {\n  const data = await serviceApi.serviceMovieTopApi();\n  markupGallery(data.results);\n}\ntopMoviePage();\n\nasync function idMovie() {\n  const s = await serviceApi.serviceIdMovie();\n\n  openModal(s);\n}\nidMovie();\nsearchForm.addEventListener('submit', onSearch);\n\n// modal\n"],"names":["$284754a050692e06$export$bf84b2c7ba08ba70","async","resp","fetch","this","page","json","error","console","message","searchValue","id","ressetPage","incrementPage","decrementPage","query","nuwQuery","pageNumber","nuwPage","idNumber","nuwId","constructor","NaN","$34bb0506b0f6f988$var$serviceApi","$34bb0506b0f6f988$var$ganresInfo","name","$34bb0506b0f6f988$export$2e2bcd8739ae039","data","gallery","document","querySelector","innerHTML","forEach","el","map","q","genre_ids","realeaseData","release_date","slice","log","movieEl","createElement","classList","add","poster_path","original_title","appendChild","addEventListener","$34bb0506b0f6f988$export$a7f6cffb6b8ba11c","$34bb0506b0f6f988$var$modal","$34bb0506b0f6f988$var$modalBox","poster","respData","serviceIdMovie","ganres","genres","vote_average","vote_count","popularity","String","replaceAll","overview","style","backgroundImage","backdrop_path","remove","body","$34bb0506b0f6f988$var$closeModal","window","e","target","code","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$serviceApi","$1f0dc3b9307be026$var$resultInput","serviceMovieTopApi","results","$1f0dc3b9307be026$var$topMoviePage","$1f0dc3b9307be026$var$idMovie","preventDefault","search","elements","value","serviceSearchMovie","length","textContent"],"version":3,"file":"index.944556c8.js.map"}